<!DOCTYPE html>
<html>
<head>
    <title>Programs List</title>
    <link href="style.css" type="text/css" rel="stylesheet">
</head>
<body>
    <h1>Programs List</h1>

    <label for="programFile">Upload Program:</label>
    <input type="file" id="programFile">
    <button id="uploadButton">Upload</button>

    <br> <!-- Line break to move to the next line -->
    

    <!-- Filter input elements -->
    <label for="programTypeFilter">Program Type:</label>
    <select id="programTypeFilter">
        <option value="All">All</option>
        <option value="Desktop">Desktop</option>
        <option value="Web">Web</option>
        <!-- Add more program types here -->
    </select>

    <label for="languageFilter">Programming Language:</label>
    <select id="languageFilter">
        <option value="All">All</option>
        <option value="Java">Java</option>
        <option value="Python">Python</option>
        <!-- Add more programming languages here -->
    </select>

    <table border="1" id="programTable">
        <thead>
            <tr>
                <th>Title</th>
                <th>Programming Language</th>
                <th>Program Type</th>
                <th>Program Link</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Program 1</td>
                <td>Java</td>
                <td>Desktop</td>
                <td><a href="program1.html">View Program</a></td>
            </tr>
            <tr>
                <td>Program 2</td>
                <td>Python</td>
                <td>Web</td>
                <td><a href="program2.html">View Program</a></td>
            </tr>
            <!-- Add more program entries here -->
        </tbody>
    </table>

    <!-- JavaScript code for filtering -->
    <script>
    const programTypeFilter = document.getElementById("programTypeFilter");
    const languageFilter = document.getElementById("languageFilter");
    const programRows = document.querySelectorAll("table tbody tr");
    
    programTypeFilter.addEventListener("change", filterPrograms);
    languageFilter.addEventListener("change", filterPrograms);
    
    function filterPrograms() {
        const selectedProgramType = programTypeFilter.value;
        const selectedLanguage = languageFilter.value;
    
        programRows.forEach(row => {
            const programType = row.querySelector("td:nth-child(3)").textContent;
            const language = row.querySelector("td:nth-child(2)").textContent;
    
            if (
                (selectedProgramType === "All" || programType === selectedProgramType) &&
                (selectedLanguage === "All" || language === selectedLanguage)
            ) {
                row.style.display = "table-row";
            } else {
                row.style.display = "none";
            }
        });
    }
    // Function to add a new program row to the table
    function addProgramRow(title, language, programType, programLink) {
        const table = document.getElementById("programTable").getElementsByTagName('tbody')[0];
        const newRow = table.insertRow(-1);
        const cell1 = newRow.insertCell(0);
        const cell2 = newRow.insertCell(1);
        const cell3 = newRow.insertCell(2);
        const cell4 = newRow.insertCell(3);
        cell1.innerHTML = title;
        cell2.innerHTML = language;
        cell3.innerHTML = programType;
        cell4.innerHTML = `<a href="${programLink}">View Program</a>`;
    }
    
    // Handle the upload button click
    document.getElementById("uploadButton").addEventListener("click", function() {
        const fileInput = document.getElementById("programFile");
        const file = fileInput.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const programData = JSON.parse(e.target.result);
                addProgramRow(programData.title, programData.language, programData.programType, programData.programLink);
            };
            reader.readAsText(file);
        }
    });
    </script>
</body>
</html>